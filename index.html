<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dc motor - DC excite</title>
  </head>
  <body>
    <style>
    body {
    background-color: ivory;
    }
    canvas {
    border:1px solid red;
    }
    </style>
    <canvas id="canvas" width=600 height=600></canvas>
    <script>
    var canvas = document.getElementById("canvas");
    var dc     = canvas.getContext("2d");
    var mgnt = canvas.getContext("2d");
    var angle = 20, delta_angle = 0, w = 0;
    window.setInterval(function(){
  		Torque =	0.05*Math.sin(-angle*Math.PI/180);
      w = w + Torque*1;
      angle = (angle + w*1) % 360;
      dc.clearRect(0, 0, canvas.width, canvas.height);
      mgnt.arc(110,200,125,8*(Math.PI)/12,4*(Math.PI)/12,true);
      mgnt.stroke();

      dc.save();
      dc.fillStyle = "#000000";
      dc.translate(110,200);
      dc.rotate( angle*Math.PI/180 );
      dc.translate(-110,-200);
      dc.beginPath();
      dc.moveTo(100, 100);
      dc.lineTo(120, 100);
      dc.lineTo(120,300);
      dc.lineTo(100,300);
      dc.closePath();
      dc.fill();

      dc.restore();
}, 5);
    </script>
  </body>
</html>
